# NPM Security Configuration for claude-config-template
#
# This configuration provides preventative security measures for npm packages.
# Even though this template currently has zero dependencies, these settings
# future-proof the project against malware if packages are added later.
#
# Last Updated: 2025-12-09
# Based on: Package Security Principles (01_global-setup/nice-to-have/02_package-security-principles.md)

# ===== CRITICAL SECURITY SETTINGS =====

# Prevent scripts from auto-running (BLOCKS MOST MALWARE)
# Malicious packages often use postinstall/preinstall scripts to execute code
# If you need to run scripts for a specific package, use:
# npm install package-name --ignore-scripts=false
ignore-scripts=true

# Audit security before every install
# Forces npm to check for known vulnerabilities
audit=true
audit-level=moderate

# ===== PACKAGE INTEGRITY =====

# Always create/update lockfile for reproducible installs
# Prevents automatic version updates that could introduce vulnerabilities
package-lock=true

# Save exact versions (no ^ or ~ ranges)
# Ensures reproducible builds and prevents unexpected updates
save-exact=true

# ===== REGISTRY SECURITY =====

# Use only official npm registry (prevent typosquatting via alternate registries)
registry=https://registry.npmjs.org/

# Don't save credentials in plaintext
always-auth=false

# ===== OPTIONAL HARDENING =====

# Uncomment these for maximum security (may break some legitimate packages):
# prefer-online=true  # Always check registry for updates (slower but safer)
# fund=false          # Disable funding messages (reduce noise)

# ===== USAGE NOTES =====
#
# To run legitimate install scripts (e.g., puppeteer, husky):
# npm install package-name --ignore-scripts=false
#
# To audit a specific package before installing:
# npm audit --package-lock-only
#
# To check package reputation before install:
# npm view package-name
#
# For more information:
# - NPM Security Guide: 01_global-setup/nice-to-have/04_npm-security-guide.md
# - Universal Principles: 01_global-setup/nice-to-have/02_package-security-principles.md
